@page
@model WebApp.Pages.ProjectSite.ListModel
@{
}

<div class="bg-secondary bg-opacity-10 py-2 mb-5"> @* bg-secondary = this is color of the title, dark
                                            bg-opacity-10 = this cuase it to bee more light
                                            mb-2 = margin buttom - to have space on bottom of the div
                                            *@
 <div class="container">
        <h1>View All</h1>
    </div>
</div>

<partial name="_Notification"></partial>

@if(Model.ProjectSitesList != null && Model.ProjectSitesList.Any())
{
    <div class="container">

        <div class="mb-3 d-flex justify-content-end">
            <!-- Button trigger modal -->
            <button type="button" class="btn btn-dark" data-bs-toggle="modal" data-bs-target="#addProjectSite">
              Add
            </button>
         </div>

    <table class="table">
        <thead>
            <tr>
                <td>
                   ID
                </td>
                <td>
                   Name
                </td>
                <td>
                    Address
                </td>
                <td>
                   Start Date
                </td>
                <td>
                  End Date
                </td>
                <td>
                  Status
                </td>
                <td></td>
            </tr>
        </thead>
        <tbody>
            @foreach(var item in Model.ProjectSitesList)
            {
                <tr>
                    <td>@item.ProjectSite.ID</td>
                    <td>@item.ProjectSite.SiteName</td>
                    <td>@item.ProjectSite.SiteAddress</td>
                    <td>@item.ProjectSite.StartDate</td>
                    <td>@item.ProjectSite.EndDate</td>
                    <td>@item.StatusText</td>
                    <td><a href="/ProjectSite/Edit/@item.ProjectSite.ID">View</a></td>
                </tr>
            }
        </tbody>
    </table>
</div>
}
else{
    <div class="container">
        <p>No Project Site were not found</p>
    </div>
}

<form method="post">


<!-- Modal for adding new SiteActivity record-->
<div class="modal fade" id="addProjectSite" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
        <h1 class="modal-title fs-5" id="exampleModalLabel">Add New Record</h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
      
        <div class="mb-3">
            <label for="siteName" class="form-label">Name</label>
            <input type="text" class="form-control" id="siteName" asp-for="ProjectSite.ProjectSite.SiteName" > 
        </div>

        <div class="mb-3">
            <label for="siteAddress" class="form-label">Address</label>
            <input type="text" class="form-control" id="siteAddress" asp-for="ProjectSite.ProjectSite.SiteAddress"> 
        </div>

        <div class="mb-3">
            <label for="startDate" class="form-label">StartDate</label>
            <input type="date" class="form-control" id="startDate" asp-for="ProjectSite.ProjectSite.StartDate"> 
        </div>

        <div class="mb-3">
            <label for="endDate" class="form-label">EndDate</label>
            <input type="date" class="form-control" id="endDate" asp-for="ProjectSite.ProjectSite.EndDate"> 
        </div>

        <div class="mb-3">
            <label for="status" class="form-label">status</label>
            <input type="text" class="form-control" id="status" asp-for="ProjectSite.StatusText"> 
        </div>


      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
        <button type="submit" class="btn btn-dark">Save changes</button>
      </div>
    </div>
  </div>
</div>

</form>